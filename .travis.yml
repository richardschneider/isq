language: node_js
env:
  matrix:
  - CI=true
  global:
    secure: D9eLANZalNmhng+nFrUyHPu0pupB++jKCLL3K/uqdsZThyFCDMkSpW0Y7nDrYCkvDdEMCRtauVpY0lOtguJ3PtnD7ZBya4QC2VvS/a1j5UKTWWNnO//guEwkcwKXxMgkF/24RHwlbqxbYIWVaKBF8mkMhP5BXWoHcgAx0c7SW1PbwobOT4j4jEJPAzeLuy/0ZTBU8508Hf+2o9ItTVLQYiF3EAzaTUAh8ZfN/vEFeMKU7KrJIPvccLK7FHzo7fTlOhn+enPzs3SGlgt5gMW7/FekW5GXFzZed8skS58fxgmyfpX5IuM110hO6+54tlJWkWkgFjp0nHx9t/DIkOdB//4ECFqiuyS82gXZHWaXBcktqd+3kPQOsRjPgffcaXRJpHGVftuqxjz+v+RQambspMsm211/rSTQ/BN6bDxmteSywAQ1FVQkDDTg13JVYi3REiv5ZatjqShy9IE8b7VFwnPgKnm+h4DX4aneiMnkx1fcxNo3wLID4ckjSlUCJ3gesDIHub3pUsyOulPulbS0NSD7E0CGsW+mQGarPXCLoWCw9IpeQtn64HBUIl5S9BQFREC5M+kzLle4tHVCSxAQyl41NI2bNoeBuluSPn2Z7pytk11NDzsFIkyo6L2OcqKSjgcm2BOBsX3lt+VtAqHQqqqHN/XIjEkG3RztpmTFBP4=
node_js:
- stable
before_script:
- npm install -g gulp
script:
- gulp
- pkg=$(npm pack)
- npm install -g $pkg
after_success:
  - git config credential.helper "store --file=.git/credentials"
  - echo "https://${RELEASE_TOKEN}:@github.com" > .git/credentials
  - if [[ "$TRAVIS_BRANCH" == "master" ]]; then gulp release; fi
notifications:
  webhooks:
    urls:
    - https://webhooks.gitter.im/e/7e10c857f561d459ceb7
    on_success: change
    on_failure: always
    on_start: never
deploy:
- provider: npm
  skip_cleanup: true
  email: makaretu@gmail.com
  api_key:
    secure: oS9GJPBRgZshpLyblD3BxJi/fOtWmeUpYU0R4vi+6vOvFaPXCJPUfIwB6zwO1W7bl2PCzIHKXS2lS1jC+pvV59gnYV2NLLKG4CIWMN47FDIJj6oVRo+M+4q8ETUZBTIEBbU/WrO+8g9Jsx6DuWaRtVkgxcJqMuSJDlJXIGQg5BSbHfMZShTAIp3zimSQ87xC5/3KyEmuVZjPfIbkp5DNRZMsOJn9sfxLwB5BNJvouV+IarlEMZXraljTSJmrvUDSiRrq0GSeTc3hz7XK7mWhZVgS7lvIYJYjA/3yKvQZBTzbNX4EUdpcNERkJLIa2zC+91hqC+Uf1E70pOTxi81TBF7JXdfXKYDI6xXj+FI8sSpsHMJOnQ4S9UK1Jj68EdmhAstmwKvLUcd5Bvj7IEsB/JkW16xTZJVxFfneDXpnJmOT/KnwgHeKsAzgqYWo0CEwRCIByAevS8i9VRThbK41cE/0xF3kNA+Fx5hFRLQHfwgISLTHr0P79ZrBlXaduQJVjOY7URfLj2+7fvUWeBV4fjzsxaINVGepAZPckEQrUdw8RhQTJ2WmSjQgCS+m/JgVYLvwdzIcA9nn/qththbbH6Ye4yLbhBcLUPkb3LZH017e2CTDX3lQAygHW1gWo0dtVNVoZwnPN1qyBGcEKpOztj1aIImXefNen2o22bDZvyA=
  on:
    branch: master
- provider: releases
  skip_cleanup: true
  api_key:
    secure: UM+VEoCmFiXbdIwAN5ULovgtNiItjr9+KEBOH4EOJ88/t0EbjpTvTzsAoidmvPUoO75F+oq2DFWmbySfIc0xpgFMxs7iCssjpMBjhykLq8G6kz0vn/mRo2GElUlidWFmtW9oBEBVgqZE77Bj/9VBdndJPVgWUgbuIoUgY9TIe2NAGZH28aq/vwh93l6Zjw55jQrIXBYTQKUbby41qfgyWPpETlEj1jyZmqu0E7G4AuecJBP9FYzG2i/26anG+wbMsp86MucLcezCWeRGjo+IJI7ZCHXs2AtK060B7DnVxSOcKUsDgiV2aY6tM3phcURDX+RruzRYxZ9ufqWjpt+yDeEucBgPd8xHIYgAahwnVBhPEmqsqscfUuwV3oWGGok78YfVyDETeKr5rAGk0YSTJ8QZ5iko2RMEQGglZU2ZOT7c4eT8xxoWuryAdQdzxy4/Ll/TlS/T1Xlk3jkPgoOYqyfbzZ6vmTY2BBsXtY4O/f4b4hwUUqrkvZMVn4GExLWJH/IZdvagitrStfFhIkIuHCDGDUzXiJbc/V4CzNdE3YaJXamjNARA/B23SlbfCocaw4oC+UTpfqSpTQ0heMyvHVxWcc6curc++WvnGYJeFcmw5UTBjNv1QievptR862lZUbrq2VJR1auskhpJQmoUIZB8VRDukoS07rvD3JwIsU0=
  file: package.json
  on:
    repo: richardschneider/isq
    branch: master
